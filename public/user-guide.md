# Zod ↔️ JSON Converter User Guide

This guide will help you get the most out of the Zod ↔️ JSON converter tool.

## Zod to JSON Conversion

When converting from Zod to JSON:

1. **Input Format**: The tool expects valid Zod schema definitions in TypeScript format.

   Supported patterns:
   - Direct schema definitions (e.g., `z.object({...})`)
   - Schemas with variables (e.g., `const MySchema = z.object({...})`)
   - Exported schemas (e.g., `export const MySchema = z.object({...})`)

2. **Schema Variables**: If you're using multiple schema variables, make sure you define them in the correct order (referenced schemas before the schemas that use them).

3. **Export**: For complex schemas with multiple definitions, adding an `export` to your main schema can help the tool identify which schema to convert.

## JSON to Zod Conversion

When converting from JSON to Zod:

1. **Input Format**: The tool accepts JSON or JSONC (JSON with Comments) in our custom format (not standard JSON Schema).

2. **JSONC Support**: You can include JavaScript-style comments (`//` or `/* */`) in your JSON input - they will be stripped before parsing.

3. **Schema Structure**: The JSON should follow the structure generated by our Zod to JSON conversion.

   Basic structure example:
   ```json
   {
     "type": "object",
     "properties": {
       "name": {
         "type": "string",
         "description": "User's full name"
       },
       "age": {
         "type": "number",
         "description": "User's age in years"
       }
     }
   }
   ```

## Tips for Using the Tool

- **Descriptions**: When converting from Zod to JSON, descriptions from Zod are added to the `description` field in the JSON output.
- **Additional Comments**: You can choose to include additional comments (JSONC) for better readability.
- **Error Messages**: If you encounter an error, check for syntax issues in your input and make sure you're following the expected format.
- **Complex Schemas**: For very complex schemas with circular references, you might need to simplify them before conversion.

## Using the Converted Output

- **Zod Output**: The generated Zod code can be copied directly into your TypeScript projects.
- **JSON Output**: The JSON output can be used as a serializable representation of your schema structure.

## Example

Converting a simple Zod schema:

```typescript
const UserSchema = z.object({
  name: z.string().description("User's full name"),
  email: z.string().email().description("User's email address"),
  age: z.number().optional().description("User's age in years"),
  isActive: z.boolean().default(true).description("Whether the user is active")
});
```

Will produce:

```json
{
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "User's full name"
    },
    "email": {
      "type": "string",
      "description": "User's email address"
    },
    "age": {
      "type": "number",
      "optional": true,
      "description": "User's age in years"
    },
    "isActive": {
      "type": "boolean",
      "description": "Whether the user is active"
    }
  }
}
```

## Common Issues

1. **Parse Errors**: Make sure your Zod schema is valid TypeScript and doesn't contain syntax errors.
2. **Missing References**: If you're using schema variables, ensure they're all defined in the input.
3. **JSON Syntax**: When converting JSON to Zod, ensure your JSON is properly formatted.

## Handling Complex Schemas

For complex Zod schemas with imports and exports (like the TikTok schema example):

1. **Remove the import statements** - The tool doesn't need the `import { z } from 'zod';` line
2. **Keep all schema definitions** - Make sure all referenced schemas (like `DimensionsSchema`) are included
3. **Identify the main schema** - The tool will try to identify the main schema by looking for exports
4. **Click Convert** - The tool will convert the schema to JSON format

## Troubleshooting

If you get the error `Failed to parse Zod schema`:

1. Make sure your schema doesn't rely on external imports other than Zod
2. Check that all schema variables are properly defined
3. Try exporting the main schema with `export const YourSchema = ...`
4. Verify there are no syntax errors in your TypeScript code